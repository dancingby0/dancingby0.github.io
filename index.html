
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>dancingby&#39;s home</title>
    <meta name="author" content="dancingby" />
    <meta name="description" content="" />
    <meta name="keywords" content="blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.2.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>DANCINGBY&#39;S HOME</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;DANCINGBY&#39;S HOME</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div id="home-head">
    <div id="home-background" ref="homeBackground" data-images="/images/background.jpg"></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>dancingby&#39;s home</h1>
                <h3>dancingbyのblogs</h3>
                <h5></h5>
            </div>
        </span>
    </div>
</div>
<div id="home-posts-wrap" true ref="homePostsWrap">
    <div id="home-posts">
        

<div class="post">
    <a href="/2024/09/17/SQL%E5%AD%A6%E4%B9%A0-%E4%BA%94-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">
        <h2 class="post-title">SQL学习(五) 多表查询</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/9/17
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><p>属于data query language</p>
<h3 id="多表关系"><a href="#多表关系" class="headerlink" title="多表关系"></a>多表关系</h3><p>多个表关系:</p>
<p>一对多(多对一)</p>
<p>多对多</p>
<p>一对一</p>
<h4 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h4><p>案例:部门与员工关系</p>
<p>关系:一:部门 多:员工</p>
<p>实现:多的一方建立外键,指向一的一方</p>
<h4 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h4><p>案例:学生与课程关系</p>
<p>关系: 多:学生 多:课程</p>
<p>实现:</p>
<p>建立一张中间表,至少包含两个外键,分别关联两方主键</p>
<h4 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h4><p>案例: 用户与用户详情的关系</p>
<p>关系: 一对一关系,多用于单表拆分,将基础字段放在一张表中,详情字段放在另一张中,以提升操作效率</p>
<p>实现:</p>
<p>在任意一方加入外键,关联另一方主键,设置外键为唯一的(UNIQUE)</p>
<p>多表查询:</p>
<p>从多表中查询数据</p>
<h4 id="分类"><a href="#分类" class="headerlink" title="分类:"></a>分类:</h4><ul>
<li>连接查询<ul>
<li>内连接:查询A,B交集部分数据</li>
<li>外连接:<ul>
<li>左外连接: 查询左表所有数据,以及两表交集</li>
<li>右外连接: 查询右表所有数据,以及交集</li>
</ul>
</li>
<li>自连接: 当前表与自身连接查询,子链接必须使用表别名</li>
</ul>
</li>
<li>子查询</li>
</ul>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>设有emp表10个数据,dept表5个数据</p>
<pre><code class="sql">select * from emp,dept; -- 多表查询,会得到10*5=50条数据,每一个对应进行穷举得到,即笛卡尔积,即A集合与B集合所有组合情况

select * from emp,dept where emp.dept_id = dept.id;
</code></pre>
<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>查询交集部分</p>
<p>隐式内连接</p>
<pre><code class="sql">SELECT 字段列表 FROM 表1,表2 WHERE 条件;
</code></pre>
<p>显式内连接</p>
<pre><code class="sql">SELECT 字段列表 FROM 表1 [INNER] JOIN 表2 ON 连接条件;
</code></pre>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><ol>
<li>查询每一个员工姓名以及关联部门名称</li>
</ol>
<pre><code class="sql">select emp.name,dept.name from emp,dept where emp.dept_id = dept.id;-- 隐式内连接
select e.name,d.name from emp e,dept d where e.dept_id = d.id; -- 如果为表起了别名,则不可以使用原名

select emp.name,dept.name from emp e inner join dept d on e.dept_id = d.id; -- 显式外连接
</code></pre>
<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><p>包含一张表所有内容以及交集部分</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">SELECT field_list FROM table1 LEFT [OUTER] JOIN table2 ON condition...; -- 左外连接

SELECT field_list FROM table1 RIGHT [OUTER] JOIN table2 ON condition...; -- 右外连接
</code></pre>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><p>查询emp表所有数据和相对应部门信息</p>
<pre><code class="sql">select e.*, d.name from emp e left outer join dept d on e.dept = d.id; -- 左外查询(包含未分配部门的信息)

select e.*,d.name from emp e right outer join dept d on e.dept = d.id; -- 右外查询(包含未分配员工的部门的信息)
</code></pre>
<h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">SELECT field_list FROM tableA aliasA [INNER] JOIN tableA aliasB ON condition;

SELECT field_list FROM tableA aliasA,tableA aliasB WHERE condition;
SELECT field_list FROM tableA aliasA RIGHT|LEFT [OUTER] JOIN tableA aliasB ON condition...
</code></pre>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>自连接既可以使用内连接,也可以使用外连接</p>
<p>自连接时,把一张表看作是两张表</p>
<p>如果查询内容出现null值,则需要使用外连接</p>
<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><ol>
<li>查询员工及其编号所属领导名字</li>
</ol>
<pre><code class="sql">select e.name,m.name from emp e inner join emp m on e.manager_id = m.id;
</code></pre>
<ol start="2">
<li>查询所有员工信息及其领导名字emp,若员工没有领导,也需要查询</li>
</ol>
<p>需要外连接</p>
<pre><code class="sql">select e.name &#39;员工&#39;,m.name &#39;领导&#39; from emp e left outer join emp m on e.manager_id = m.id;
</code></pre>
<h3 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h3><p>即把多次查询结果合并起来,形成一个新的查询结果</p>
<h4 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">SELECT field_list FROM tableA ... -- 没有分号!
UNION [ALL]
SELECT field_list FROM tableB...; -- 这三行是一个语句!
</code></pre>
<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><p>union all: 直接将查询结果合并(会出现重复)</p>
<p>union: 去重</p>
<p>使用条件: 联合查询多张表的列数必须一致,字段类型也必须一致</p>
<p>如:</p>
<pre><code class="sql">select * from emp where salary &gt; 1
union
select name from emp where age &lt; 50; -- ERROR!字段不一致!
</code></pre>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><p>将薪资低于5000的员工,和年龄大于50的员工查询出来(或逻辑)</p>
<pre><code class="sql">select * from emp where salary &lt; 5000
union all
select * from emp where age &gt;50;
</code></pre>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><p>SQL 语句中嵌套SELECT语句,又称嵌套查询</p>
<p>分类:</p>
<ul>
<li>标量子查询 子查询结果为单个值</li>
<li>列子查询 结果一个列</li>
<li>行子查询 一个行</li>
<li>表子查询 多行多列</li>
</ul>
<h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">SELECT * FROM t1 WHERE column1 = (SELECT column1 FROM t2);
</code></pre>
<p>外部语句可以是 INSERT|UPDATE|DELETE|SELECT, DQL,DML</p>
<p>位置可以是WHERE|FROM|SELECT</p>
<p>标量子查询: 常用&gt; &lt; &#x3D; &gt;&#x3D; &lt;&#x3D;</p>
<p>列子查询:常用 IN(在指定集合内) NOT IN ANY(子查询返回的列表中,任意一个满足即可) SOME(同ANY) ALL(必须全部满足)</p>
<p>行子查询: 常用&#x3D; !&#x3D; IN NOT IN</p>
<p>表子查询: 常用IN</p>
<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><ul>
<li>标量子查询</li>
</ul>
<p>查询销售部所有员工信息</p>
<pre><code class="sql">select * from emp where dept_id = (select id from dept where name = &#39;销售部&#39;);
</code></pre>
<p>查询”方东白”入职后员工信息</p>
<pre><code class="sql">select * from emp where entry_date &gt; (select entry_date from emp where name = &#39;方东白&#39;);
</code></pre>
<ul>
<li>列子查询</li>
</ul>
<ol>
<li>查询”销售部”和”市场部”的所有员工信息</li>
</ol>
<pre><code class="sql">select * from emp where dept in (select id from dept where name in (&#39;销售部&#39;,&#39;市场部&#39;));
</code></pre>
<ol start="2">
<li>查询比财务部所有人工资都高的员工信息</li>
</ol>
<pre><code class="sql">select * from emp where salary &gt; all(select salary from emp where dept_id = (select id from dept where name = &#39;财务部&#39;)) -- where比聚合函数先执行
</code></pre>
<ol start="3">
<li>查询比研发部任意一人工资都高的员工信息</li>
</ol>
<pre><code class="sql">select * from emp where salary &gt; any(select salary from emp where dept_id = (select id from dept where name = &#39;研发部&#39;));
</code></pre>
<ul>
<li>行子查询</li>
</ul>
<p>查询与”张无忌”的薪资及其直属领导 相同的员工信息</p>
<pre><code class="sql">select * from emp where salary = (select salary from emp where name = &#39;张无忌&#39;) and manager_id = (select id from emp where name = &#39;张无忌&#39;);

select * from emp where (salary,manager_id) = (select salary,id from emp where name = &#39;张无忌&#39;);
</code></pre>
<ul>
<li>表子查询</li>
</ul>
<ol>
<li>查询与”a”,”b”的职位与薪资相同的员工信息</li>
</ol>
<pre><code class="sql">select * from emp where (dept_id,salary) in (select dept_id,salary from emp where name in(&#39;a&#39;,&#39;b&#39;));
</code></pre>
<ol start="2">
<li>查询入职日期为’2006-01-01’之后员工信息及其部门信息</li>
</ol>
<pre><code class="sql">select e.*,d.* from (select * from emp where entry_date &gt; &#39;2006-01-01&#39;) e left join dept d on d.id = e.dept_id; -- select后也可以直接写*
</code></pre>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><ol>
<li>查询员工姓名,年龄,职位,部门信息(隐式内连接)</li>
</ol>
<pre><code class="sql">select e.name,e.age,e.position,d.name from emp e, dept d where d.id = e.dept_id;
</code></pre>
<ol start="2">
<li>查询年龄小于30岁员工姓名,年龄,职位,部门信息(显式内连接)</li>
</ol>
<pre><code class="sql">select e.name,e.age,e.position,d.name from emp e inner join dept d where e.age&lt;30 on e.dept_id = d.id; 
</code></pre>
<ol start="3">
<li>查询拥有员工的部门(id,名称)</li>
</ol>
<pre><code class="sql">select distinct d.* from emp e join dept d on e.dept_id = d.id;
</code></pre>
<ol start="4">
<li>查询所有年龄大于40岁的员工,及其归属部门名称,如果员工没有分配部门,也需要展示</li>
</ol>
<pre><code class="sql">select e.*,d.name from emp e left join dept d on e.dept_id = d.id where e.age&gt;40;
</code></pre>
<ol start="5">
<li>查询所有员工工资等级</li>
</ol>
<p>设有sal_grade表,有losal和hisal(分别是最低工资与最高工资)两列,有grade表示薪资水平</p>
<pre><code class="sql">select e.name,s.grade from emp e, salary s where e.salary between s.losal and s.hisal;
</code></pre>
<ol start="6">
<li>查询 “研发部” 所有员工信息及工资等级</li>
</ol>
<pre><code class="sql">select e.*,s.grade from emp e,salary s where e.dept_id = (select id from dept where name = &#39;研发部&#39;) and e.salary between s.losal and s.hisal;
</code></pre>
<ol start="7">
<li>查询 “研发部” 平均工资</li>
</ol>
<pre><code class="sql">select avg(e.salary) from emp e where e.dept_id = (select id from dept where name = &#39;研发部&#39;);

select avg(e.salary) from emp e,dept,d where e.dept_id = d.id and d.name = &#39;研发部&#39;;
</code></pre>
<ol start="8">
<li>查询工资比 ‘a’ 高的员工信息</li>
</ol>
<pre><code class="sql">select * from emp e where e.salary &gt; (select salary from emp where name = &#39;a&#39;);
</code></pre>
<ol start="9">
<li>查询比平均薪资高的员工信息</li>
</ol>
<pre><code class="sql">select * from emp e where e.salary &gt; (select avg(salary) from emp);
</code></pre>
<ol start="10">
<li>查询比本部门平均薪资低的员工信息</li>
</ol>
<pre><code class="sql">select * from emp e1 where e1.salary &lt;(select avg(salary) from emp e2 where e1.dept_id = e2.dept_id);
</code></pre>
<ol start="11">
<li>查询所有部门信息并统计部门的员工人数</li>
</ol>
<pre><code class="sql">select d.*,(select count(*) from emp e where e.dept_id = d.id) &#39;人数&#39; from dept d;
</code></pre>
<ol start="12">
<li>查询所有学生选课情况,显示出学生名称,学号,课程名称</li>
</ol>
<p>表: student, course, student_course</p>
<p>连接条件: student.id &#x3D; student_course.student_id, course.id &#x3D; student_course.course_id</p>
<pre><code class="sql">select s.name,s.number,c.name from student s, student_course sc , course c where sc.student_id = s.id and sc.course_id = course.id;
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/sql-back-end/" style="color: #00a596">sql,back end</a>
        </span>
        
    </div>
    <a href="/2024/09/17/SQL%E5%AD%A6%E4%B9%A0-%E4%BA%94-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/09/16/SQL%E5%AD%A6%E4%B9%A0-%E5%9B%9B/">
        <h2 class="post-title">SQL学习(四)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/9/16
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>作用于字段上的规则,限制存储于表中的数据</p>
<pre><code class="sql">NOT NULL -- 非空约束
UNIQUE -- 唯一约束 所有数据均唯一
PRIMARY KEY -- 主键约束 主键是一行数据的唯一标识,非空且唯一
DEFAULT -- 默认约束,如果保存数据时,未指定该字段的值,则采用默认值
CHECK -- 检查约束,8.0.16版本后,保证字段满足某条件
FOREIGN KEY -- 外键约束, 让两张表建立起连接,保证数据一致性
</code></pre>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>需求:<br>id ID唯一标识 name 非空唯一 age 大于0且小于120 status 若不指定,默认1 gender 无</p>
<pre><code class="sql">create table user(
    id int primary key auto_increment comment &#39;主键&#39;, -- auto_increment 自动增长
    name varchar(10) unique not null comment &#39;姓名&#39;,
    age tinyint check (age&gt;0 and age&lt;120) comment &#39;年龄&#39;,
    status char(1) default &#39;1&#39; comment &#39;状态&#39;,
    gender char(1)
)comment &#39;用户表&#39;;

insert into user(name,age,status,gender) values (&#39;Tom&#39;,10,&#39;2&#39;,&#39;男&#39;);
insert into user(name,age,status,gender) values (&#39;Tom&#39;,10,null,&#39;男&#39;);
</code></pre>
<h3 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h3><p>具有外键的称为子表(从表),外键被关联的称为父表(主表)</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">-- 添加外键
CREATE TABLE 表名(
    field_name type,
    ...
    [CONSTRAINT] [外键名称] FOREIGN KEY (外键字段名) REFERENCES 主表(主表列名)
)
ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名) REFERENCES 主表(主表列名) [ON UPDATE/DELETE 外键约束];

-- 删除外键
ALTER TABLE 表名 DROP FOREIGN KEY 外键字段名;
</code></pre>
<p>外键约束:</p>
<p>NO ACTION 当父表中更新&#x2F;删除时,首先检查是否有外键关联.有则不允许,同RESTRICT</p>
<p>RESTRICT 当父表中更新&#x2F;删除时,首先检查是否有外键关联.有则不允许,同NO ACTION</p>
<p>CASCADE 当删除&#x2F;更新对应记录时,若有对应外键,则也删除&#x2F;更新对应记录(cascade 级联的,逐级的)</p>
<p>SET NULL 当删除对应记录时,若有对应外键,设为NULL(要求该外键允许取NULL)</p>
<p>SET DEFAULT 父表变更时,子表将外键设置为默认值(Innodb不支持)</p>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>如果被外键关联,则父表中不可直接删除关联字段,除非解除关联</p>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><pre><code class="sql">-- 数据准备
create table debt(
    id int auto_increment comment &#39;ID&#39; primary key,
    name varchar(50) not null comment &#39;部门名称&#39;
)comment &#39;部门表&#39;;

insert into dept (id,name) values(1,&#39;研发部&#39;),(2,&#39;市场部&#39;),(3,&#39;财务部&#39;),(4,&#39;销售部&#39;),(5,&#39;总经办&#39;);

create table emp(
    id int auto_increment comment &#39;ID&#39; primary key,
    name varchar(10) not null comment &#39;姓名&#39;,
    job varchar(20) comment &#39;职位&#39;,
    dept_id int comment &#39;部门ID&#39;
)comment &#39;员工表&#39;;

-- 添加外键
alter table emp add constraint fk_emp_dept_id foreign key (dept_id) reference dept(id) on update cascade on delete no action; -- 为本来的字段添加外键
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/sql-%E5%90%8E%E7%AB%AF/" style="color: #03a9f4">sql,后端</a>
        </span>
        
    </div>
    <a href="/2024/09/16/SQL%E5%AD%A6%E4%B9%A0-%E5%9B%9B/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/09/15/SQL%E5%AD%A6%E4%B9%A0-%E4%B8%89/">
        <h2 class="post-title">SQL学习(三)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/9/15
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="DCL语句"><a href="#DCL语句" class="headerlink" title="DCL语句"></a>DCL语句</h2><p>DCL, Data Control Language,用于管理数据库用户,访问权限</p>
<h3 id="管理用户"><a href="#管理用户" class="headerlink" title="管理用户"></a>管理用户</h3><h4 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h4><ol>
<li>查询用户</li>
</ol>
<pre><code class="sql">USE mysql; -- 系统数据库
SELECT * FROM user; -- 用户表
</code></pre>
<ol start="2">
<li>创建用户</li>
</ol>
<pre><code class="sql">CREATE USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED BY &#39;密码&#39;;
</code></pre>
<ol start="3">
<li>修改用户密码</li>
</ol>
<pre><code class="sql">ALTER USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED WITH mysql_native_password BY &#39;新密码&#39;;
</code></pre>
<ol start="4">
<li>删除用户</li>
</ol>
<pre><code class="sql">DROP USER &#39;用户名&#39;@&#39;主机名&#39;;
</code></pre>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>创建用户itcast,只能在当前主机localhost访问,密码123456</p>
<pre><code class="sql">use mysql;
select * from user;
create user &#39;itcast&#39;@&#39;localhost&#39; identified by &#39;123456&#39;;
</code></pre>
<p>创建用户heima,可在任意主机上访问数据库,密码123456</p>
<pre><code class="sql">use mysql;
select * from user;
create user &#39;heima&#39;@&#39;%&#39; identified by &#39;123456&#39;;
</code></pre>
<p>修改用户heima的访问密码为1234</p>
<pre><code class="sql">use mysql;
select * from user;
alter user &#39;heima&#39;@&#39;%&#39; identified with mysql_native_password &#39;1234&#39;;
</code></pre>
<p>删除itcast的localhost主机用户</p>
<pre><code class="sql">use mysql;
select * from user;
drop user &#39;itcast&#39;@&#39;localhost&#39;;
</code></pre>
<h3 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h3><p>ALL,ALL PRIVILEGES 所有权限</p>
<p>SELECT 查</p>
<p>INSERT 插</p>
<p>UPDATE 修改数据</p>
<p>DELETE 删</p>
<p>ALTER 修改表</p>
<p>DROP 删库,表,视图</p>
<p>CREATE 创</p>
<h4 id="用法-1"><a href="#用法-1" class="headerlink" title="用法"></a>用法</h4><ol>
<li>查询权限</li>
</ol>
<pre><code class="sql">SHOW GRANTS FOR &#39;用户名&#39;@&#39;主机名&#39;;
</code></pre>
<ol start="2">
<li>授予权限</li>
</ol>
<pre><code class="sql">GRANT 权限列表 ON 数据库名.表名 TO &#39;用户名&#39;@&#39;主机名&#39;;
</code></pre>
<ol start="3">
<li>撤销权限</li>
</ol>
<pre><code class="sql">REVOKE 权限列表 ON 数据库名.表名 FROM &#39;用户名&#39;@&#39;主机名&#39;;
</code></pre>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>多个权限用逗号隔开</p>
<p>数据库名,表名可以用*表示</p>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><pre><code class="sql">GRANT SELECT ON itcast.* TO &#39;heima&#39;@&#39;%&#39;;
</code></pre>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><pre><code class="sql">CONCAT(s1,s2..) -- 拼接字符串
LOWER(str) -- 将str中全部转为小写
UPPER(str) -- 将str中全部转为大写
LPAD(str,n,pad) -- 左填充,用字符串pad对str左侧进行填充,直到达到n字符串长度
RPAD(str,n,pad) -- 右填充
TRIM(str) -- 去掉字符串头尾空格
SUBSTRING(str,start,len) -- 返回从start起len长度的字符串
</code></pre>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><ol>
<li>企业员工工号统一为5位数,不是五位数的前面补0</li>
</ol>
<pre><code class="sql">update emp set work_number = LPAD(work_number,5,&#39;0&#39;);
</code></pre>
<h3 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h3><pre><code class="sql">SEIL(x) -- 向上取整
FLOOR(x) -- 向下取整
MOD(x,y) -- 返回x/y的模
RAND() -- 返回0-1的随机数
ROUND(x,y) -- 求参数x的四舍五入值,保留y位小数
</code></pre>
<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><p>生成六位数的随机验证码</p>
<pre><code class="sql">select LPAD(round(rand()*1000000,0),6,0); -- 若不足六位,补0
</code></pre>
<h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><pre><code class="sql">CURDATE() -- 当前日期,current date
CURTIME() -- 当前时间
NOW() -- 当前日期时间
YEAR(date) -- 获取指定date年
MONTH(date)
DAY(date)
DATE_ADD(date,INTERVAL expr type) -- 返回一个日期/时间 加上时间间隔expr后的时间值
DATEDIFF(date1,date2) -- 返回date1-date2的天数
</code></pre>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><p>date_add</p>
<pre><code class="sql">select date_add(now(),INTERVAL 70 day); -- 第二个参数写法固定为 interval value 类型
select date_add(now(),interval 70 year);
</code></pre>
<p>datediff</p>
<pre><code class="sql">select datediff(&#39;2012-01-01&#39;,&#39;2021-10-01&#39;);
</code></pre>
<p>查询所有员工入职天数,并倒序排序</p>
<pre><code class="sql">select name,datediff(CURDATE(),entry_date) &#39;entry_days&#39; from emp order by entry_days desc; -- 别名的字符串可以省略,后面order by则不能加引号
</code></pre>
<h3 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h3><p>实现条件筛选</p>
<pre><code class="sql">IF(condition,t,f) -- 如果condition为true,则返回t,否则f
IFNULL(value1,value2) -- 如果value1为空,则返回value2,否则返回value1
CASE WHEN [val1] THEN [res1] ... ELSE [default] END -- 如果val1为true,返回res1,... 否则返回default默认值
CASE [expr] WHEN [val1] THEN [res1],... ELSE[default] END -- 如果expr的值与val1相等,返回res1,..否则返回default
</code></pre>
<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><p>查询emp表姓名和工作地址(北京,上海)一线,其他二线</p>
<pre><code class="sql">select name,case when address in(&#39;北京&#39;,&#39;上海&#39;) THEN &#39;一线&#39; ELSE &#39;二线&#39; &#39;工作地址&#39; from emp;
select name, case address when &#39;北京&#39; then &#39;一线&#39; when &#39;上海&#39; then &#39;一线&#39; else &#39;二线&#39; as &#39;工作地址&#39; from emp;
</code></pre>
<p>统计各个学员成绩,</p>
<p>&gt;&#x3D;85 优秀</p>
<p>&gt;&#x3D;60 及格</p>
<p>否则不及格</p>
<pre><code class="sql">select name,case when score &gt;= 85 then &#39;优秀&#39; when score &gt;= 60 then &#39;及格&#39; else &#39;不及格&#39; from emp
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/sql-%E5%90%8E%E7%AB%AF/" style="color: #ff7d73">sql,后端</a>
        </span>
        
    </div>
    <a href="/2024/09/15/SQL%E5%AD%A6%E4%B9%A0-%E4%B8%89/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/09/14/sql%E5%AD%A6%E4%B9%A0-%E4%BA%8C/">
        <h2 class="post-title">sql学习(二)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/9/14
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="DML语句"><a href="#DML语句" class="headerlink" title="DML语句"></a>DML语句</h2><p>Data Manipulation Language(数据操作语言) 用于对表的数据记录进行增删改操作</p>
<p>添加数据(INSERT)</p>
<p>修改数据(UPDATE)</p>
<p>删除数据(DELETE)</p>
<h3 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h3><h4 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h4><ol>
<li>给字段添加数据</li>
</ol>
<pre><code class="sql">INSERT INTO 表名 (字段名1,字段名2,...) VALUES (值1,值2,...);
</code></pre>
<ol start="2">
<li>给所有字段添加数据</li>
</ol>
<pre><code class="sql">INSERT INTO 表名 VALUES (值1,值2,...);
</code></pre>
<ol start="3">
<li>批量添加数据</li>
</ol>
<pre><code class="sql">INSERT INTO 表名 (字段名1,字段名2,...) VALUES (值1,值2,...),(值1,值2,...);
INSERT INTO 表名 VALUES (值1,值2,...),(值1,值2,...); -- 不指定字段名时,对所有字段插入
</code></pre>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>insert时,插入字段名与值一一对应<br>字符串,日期应当包含在引号中<br>插入数据大小需要在字段的指定范围内</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><pre><code class="sql">insert into employee(id,workno,name,gender,age,idcard,entrydata) values (1,&#39;1&#39;,&#39;Itcast&#39;,&#39;男&#39;,10,&#39;123456789&#39;,&#39;2000-01-01&#39;);
insert into employee values (1,&#39;1&#39;,&#39;Itcast&#39;,&#39;男&#39;,10,&#39;123456789&#39;,&#39;2000-01-01&#39;);
insert into employee values (1,&#39;1&#39;,&#39;Itcast&#39;,&#39;男&#39;,10,&#39;123456789&#39;,&#39;2000-01-01&#39;),(2,&#39;2&#39;,&#39;Itcast&#39;,&#39;男&#39;,10,&#39;123456789&#39;,&#39;2000-01-01&#39;); -- 插入两条数据
</code></pre>
<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><h4 id="用法-1"><a href="#用法-1" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">UPDATE 表名 SET 字段1=值1,字段2=值2,...[WHERE 条件];
</code></pre>
<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><p>如果不指定修改语句的条件,则会修改整张表的所有数据</p>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>修改id为1的数据,将name修改为 abc</p>
<pre><code class="sql">update employee set name = &#39;abc&#39; where id = 1;
</code></pre>
<p>修改id为1的数据,name修改为 小赵,gender修改为 女</p>
<pre><code class="sql">update employee set name = &#39;小赵&#39;, gender = &#39;女&#39; where id = 1;
</code></pre>
<p>将所有员工入职日期修改为 2008-01-01</p>
<pre><code class="sql">update employee set entry_data = &#39;2008-01-01&#39;;
</code></pre>
<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><h4 id="用法-2"><a href="#用法-2" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">DELETE FROM 表名 [WHERE 条件];
</code></pre>
<h4 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h4><p>delete语句如果不指定条件,则会删除整张表格数据(相当于truncate table 表名;)<br>delete只能删除一条数据,如果要删除一个字段的值,使用update</p>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><p>删除gender为女的员工</p>
<pre><code class="sql">delete from employee where gender = &#39;女&#39;;
</code></pre>
<p>删除所有员工</p>
<pre><code class="sql">delete from employee;
truncate table employee;
</code></pre>
<h2 id="DQL语句"><a href="#DQL语句" class="headerlink" title="DQL语句"></a>DQL语句</h2><p>Data Query Language, 数据查询语言</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>SELECT 字段列表</p>
<p>FROM 表名列表</p>
<p>WHERE 条件列表</p>
<p>GROUP BY 分组字段列表</p>
<p>HAVING 分组后条件列表</p>
<p>ORDER BY 排序字段列表</p>
<p>LIMIT 分页参数</p>
<p>基本查询 仅用 select from</p>
<p>条件查询 where</p>
<p>聚合函数 count max min avg sum</p>
<p>分组查询 group by 通常配合聚合函数</p>
<p>排序查询 order by</p>
<p>分页查询 limit</p>
<h3 id="基本查询"><a href="#基本查询" class="headerlink" title="基本查询"></a>基本查询</h3><h4 id="用法-3"><a href="#用法-3" class="headerlink" title="用法"></a>用法</h4><ol>
<li>查询多个字段</li>
</ol>
<pre><code class="sql">SELECT 字段1,字段2,字段3... FROM 表名;
SELECT * FROM 表名;
</code></pre>
<ol start="2">
<li>设置别名</li>
</ol>
<pre><code class="sql">SELECT 字段1 [AS 别名1],字段2 [AS 别名2] ... FROM 表名; -- 在设置别名时, as可以省略
</code></pre>
<ol start="3">
<li>去除重复记录</li>
</ol>
<pre><code class="sql">select distinct 字段列表 from 表名; -- 对查询结果去重
</code></pre>
<h4 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h4><p>在开发中,尽量不写*,因为不直观,会影响效率</p>
<p>别名可以加引号,也可以不加引号,推荐加引号;后面使用别名时,则不能加引号</p>
<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><ol>
<li>查询指定字段name,workno,age返回</li>
</ol>
<pre><code class="sql">select name,workno,age from emp;
</code></pre>
<ol start="2">
<li>查询所有字段返回</li>
</ol>
<pre><code class="sql">select * from emp;
</code></pre>
<ol start="3">
<li>查询所有员工工作地址,起别名</li>
</ol>
<pre><code class="sql">select address as &#39;工作地址&#39; from emp;
select address &#39;工作地址&#39; from emp;
</code></pre>
<ol start="4">
<li>查询公司员工上班地址(数据不重复)</li>
</ol>
<pre><code class="sql">select distinct address from emp;
</code></pre>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><h4 id="用法-4"><a href="#用法-4" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">SELECT 字段列表 FROM 表名 WHERE 条件列表;
</code></pre>
<p>条件列表中可以有条件运算符,具体有</p>
<p>&gt; &gt;&#x3D; &lt; &lt;&#x3D; &#x3D; &lt;&gt;或!&#x3D;  注意比较相等是&#x3D;</p>
<p>BETWEEN … AND …  在某范围内(含)</p>
<p>IN(…)  在in后列表中的值,多选一</p>
<p>LIKE 占位符 模糊匹配,占位符有_和%,其中_匹配单个字符,%匹配任意字符</p>
<p>IS NULL 是NULL</p>
<p>逻辑:</p>
<p>AND或&amp;&amp;, OR或||, NOT或!</p>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><ol>
<li>查询年龄等于88地员工</li>
</ol>
<pre><code class="sql">select * from emp where age = 88;
</code></pre>
<ol start="2">
<li>查询年龄小于20地员工</li>
</ol>
<pre><code class="sql">select * from emp where age &lt; 20;
</code></pre>
<ol start="3">
<li>查询年龄小于等于20地员工</li>
</ol>
<pre><code class="sql">select * from emp where age &lt;= 20;
</code></pre>
<ol start="4">
<li>查询没有身份证号的员工</li>
</ol>
<pre><code class="sql">select * from emp where id_card is null;
</code></pre>
<ol start="5">
<li>查询有身份证号的员工</li>
</ol>
<pre><code class="sql">select * from emp where id_card is not null;
</code></pre>
<ol start="6">
<li>查询年龄不等于88的员工</li>
</ol>
<pre><code class="sql">select * from emp where age != 88;
</code></pre>
<ol start="7">
<li>查询年龄在15(含)到20含的员工</li>
</ol>
<pre><code class="sql">select * from emp where age between 15 to 20;
</code></pre>
<ol start="8">
<li>查询性别为 女 且年龄小于25岁的员工</li>
</ol>
<pre><code class="sql">select * from emp where gender = &#39;女&#39; and age &lt; 25;
</code></pre>
<ol start="9">
<li>查询年龄等于18或20或40的员工</li>
</ol>
<pre><code class="sql">select * from emp where age in (18,20,40);
</code></pre>
<ol start="10">
<li>查询姓名为两个字的员工</li>
</ol>
<pre><code class="sql">select * from emp where name like &#39;__&#39;;
</code></pre>
<ol start="11">
<li>查询身份证最后一位为X的员工</li>
</ol>
<pre><code class="sql">select * from emp where idcard like &#39;%X&#39;;
</code></pre>
<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><p>将一列数据作为一个整体,进行纵向计算</p>
<p>常见聚合函数: count max min avg sum</p>
<h4 id="用法-5"><a href="#用法-5" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">SELECT 聚合函数(字段列表) FROM 表名;
</code></pre>
<h4 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h4><p>null值不参与计算</p>
<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><ol>
<li>统计该企业员工数量</li>
</ol>
<pre><code class="sql">select count(*) from emp;
</code></pre>
<ol start="2">
<li>统计该企业员工平均年龄</li>
</ol>
<pre><code class="sql">select avg(age) from emp;
</code></pre>
<ol start="3">
<li>统计该企业员工最大年龄</li>
</ol>
<pre><code class="sql">select max(age) from emp;
</code></pre>
<ol start="4">
<li>统计该企业员工最小年龄</li>
</ol>
<pre><code class="sql">select min(age) from emp;
</code></pre>
<ol start="5">
<li>统计西安地区员工年龄之和</li>
</ol>
<pre><code class="sql">select sum(age) from emp where work_address = &#39;西安&#39;;
</code></pre>
<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><pre><code class="sql">SELECT 字段列表 FROM 表名 [WHERE 条件] GROUP BY 分组字段名 [HAVING 分组后过滤条件];
</code></pre>
<h4 id="注意事项-5"><a href="#注意事项-5" class="headerlink" title="注意事项"></a>注意事项</h4><p>where与having 区别</p>
<ol>
<li>执行时机不同: where在分组前过滤,而having在分组后过滤</li>
<li>判断条件不同:where不能对聚合函数进行判断,而having可以</li>
</ol>
<p>执行顺序: where-&gt;聚合函数-&gt;having</p>
<p>分组后,查询的字段为聚合函数或分组字段,查询其他字段无任何意义</p>
<p>如果在sql模式中启用了ONLY_FULL_GROUP_BY,则select不允许查询group by中没有的字段,或没有使用聚合函数进行处理,如</p>
<pre><code class="sql">select gender,name from emp group by gender; --Error!
</code></pre>
<p>是错误的,而如果使用聚合函数进行处理,则</p>
<pre><code class="sql">select gender,count(*) from emp group by gender; -- Correct!
</code></pre>
<p>则可以执行</p>
<h4 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h4><ol>
<li>根据性别分组, 统计男性员工和女性员工数量</li>
</ol>
<pre><code class="sql">select gender,count(*) from emp group by gender;
select name,count(*) from emp group by gender; -- name字段无任何意义,因为只有两行gender,对应的name没有意义(只是展示了第一个的名字)
select count(*) from emp group by gender; -- 可以执行但无法实现要求,因为不会显示gender(无法知道哪个性别的是多少个人)
</code></pre>
<ol start="2">
<li>根据性别分组,统计男性员工和女性员工平均年龄</li>
</ol>
<pre><code class="sql">select gender,avg(age) from emp group by gender;
</code></pre>
<ol start="3">
<li>查询年龄小于45的员工,并根据工作地址分组,获取员工数量大于等于3的工作地址</li>
</ol>
<pre><code class="sql">select work_address,count(*) from emp where age &lt; 45 group by work_address having count(*) &gt;=3; -- 直接查询对应年龄的员工后,再分组,再获取员工数量大于等于3的地址

select work_address,count(*) address_count from emp where age&lt;45 group by work_address having address_count &gt;= 3;
</code></pre>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><h4 id="用法-6"><a href="#用法-6" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1,字段2 排序方式2;
</code></pre>
<p>排序方式: ASC:升序(默认值) DESC: 降序</p>
<h4 id="注意事项-6"><a href="#注意事项-6" class="headerlink" title="注意事项"></a>注意事项</h4><p>如果多字段排序,先排第一个,在第一个基础上排第二个字段</p>
<h4 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h4><ol>
<li>根据年龄对公司员工进行升序排序</li>
</ol>
<pre><code class="sql">select * from emp order by age asc;
</code></pre>
<ol start="2">
<li>根据入职时间,对员工进行降序排序;</li>
</ol>
<pre><code class="sql">select * from emp order by entry_date desc;
</code></pre>
<ol start="3">
<li>根据年龄对公司的员工进行升序排序;若年龄相同,再按照入职时间降序排序</li>
</ol>
<pre><code class="sql">select * from emp order by age asc, entry_date desc;
</code></pre>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><h4 id="用法-7"><a href="#用法-7" class="headerlink" title="用法"></a>用法</h4><pre><code class="sql">SELECT 字段列表 FROM 表名 LIMIT 起始索引,查询记录数;
</code></pre>
<p>起始索引从0开始, 起始索引&#x3D; (查询页码-1)*每页显示记录数</p>
<p>分页查询是数据库的方言,不同数据库有不同实现,如mysql中是LIMIT (方言:指数据库之间不同的差异)</p>
<p>若是第一页数据,则起始索引可以省略,简写为limit 10;</p>
<h4 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h4><ol>
<li>查询第一页员工数据,每页10条记录</li>
</ol>
<pre><code class="sql">select * from emp limit 10;
</code></pre>
<ol start="2">
<li>查询第二页员工数据,每页10条</li>
</ol>
<pre><code class="sql">select * from emp limit 10,10;
</code></pre>
<h3 id="关于MYSQL的模糊查询"><a href="#关于MYSQL的模糊查询" class="headerlink" title="关于MYSQL的模糊查询"></a>关于MYSQL的模糊查询</h3><p>% 百分号通配符, 表任意字符出现任意次数(含0次,相当于.*)</p>
<p>_ 下划线通配符,表单个任意字符,相当于.</p>
<p>若like后没有使用%和_,则与&#x3D;相同</p>
<p>转义: ESCAPE关键字(指定转义符)</p>
<p>如’%&#x2F;_%’escape’&#x2F;‘; 指定 &#x2F; 为转义符,则对其中的_进行了转义</p>
<p>‘%_%’ escape ‘&#39;; 指定 \ 为转义符</p>
<h4 id="注意事项-7"><a href="#注意事项-7" class="headerlink" title="注意事项"></a>注意事项</h4><p>模糊查询消耗性能更多<br>如果一定要使用时,则不要把通配符放在开始处(否则将全库扫描,速度最慢)</p>
<h3 id="综合示例"><a href="#综合示例" class="headerlink" title="综合示例"></a>综合示例</h3><ol>
<li>查询年龄为20,21,22,23的女员工信息</li>
</ol>
<pre><code class="sql">select * from emp where gender = &#39;女&#39; age in (20,21,22,23);
</code></pre>
<ol start="2">
<li>查询性别为男,并且年龄在20-40(含)以内姓名为三个字的员工</li>
</ol>
<pre><code class="sql">select * from emp where gender = &#39;男&#39; and (age between 20 and 40) and name like &#39;___&#39;;
</code></pre>
<ol start="3">
<li>统计员工表中,年龄小于60岁,男性员工和女性员工的人数</li>
</ol>
<pre><code class="sql">select gender,count(*) where age &lt; 60 group by gender;
</code></pre>
<ol start="4">
<li>查询所有年龄小于等于35岁员工的姓名和年龄,并对查询结果按照年龄升序排序,如果年龄相同按入职时间顺序降序排序</li>
</ol>
<pre><code class="sql">select name,age from emp where age &lt;= 35 order by age asc, entry_time desc;
</code></pre>
<ol start="5">
<li>查询性别为男,且年龄在20-40岁(含)以内前5个员工信息,对查询结果按年龄升序,年龄相同按入职时间升序</li>
</ol>
<pre><code class="sql">select * from emp where gender = &#39;男&#39; and age between 20 and 40 order by age asc, entry_date asc limit 5;
</code></pre>
<h3 id="DQL执行顺序"><a href="#DQL执行顺序" class="headerlink" title="DQL执行顺序"></a>DQL执行顺序</h3><p>执行顺序: FROM-&gt;WHERE-&gt;GROUP BY,HAVING-&gt;SELECT-&gt;ORDER BY-&gt;LIMIT</p>
<p>编写顺序: SELECT-&gt;FROM-&gt;WHERE-&gt;GROUP BY-&gt;HAVING-&gt;ORDER BY-&gt;LIMIT</p>
<h4 id="注意事项-8"><a href="#注意事项-8" class="headerlink" title="注意事项"></a>注意事项</h4><p>虽然SELECT 在 GROUP BY 后执行,但GROUP BY 依然可以使用别名(mysql进行了优化)</p>
<p>WHERE 不可以使用select的别名</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/sql-%E5%90%8E%E7%AB%AF/" style="color: #00bcd4">sql,后端</a>
        </span>
        
    </div>
    <a href="/2024/09/14/sql%E5%AD%A6%E4%B9%A0-%E4%BA%8C/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/09/12/SQL%E5%AD%A6%E4%B9%A0-%E4%B8%80/">
        <h2 class="post-title">SQL学习(一)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/9/12
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><p>分为DDL,DML,DQL,DCL<br>注释:</p>
<pre><code class="sql">-- 注释
# mysql注释
/*
多行注释
*/
</code></pre>
<h2 id="DDL-Data-Definition-Language"><a href="#DDL-Data-Definition-Language" class="headerlink" title="DDL(Data Definition Language)"></a>DDL(Data Definition Language)</h2><p>负责对库进行操作</p>
<p>查询:</p>
<pre><code class="sql">SHOW DATABASES;
SELECT DATABASE(); -- 查询当前选定的数据库
</code></pre>
<p>创建</p>
<pre><code class="sql">CREATE DATABASE [IF NOT EXISTS] 数据库名 [DEFAULT CHARSET 字符集] [COLLATE 排序规则];
</code></pre>
<p>删除</p>
<pre><code class="sql">DROP DATABASE [IF EXISTS] 数据库名;
</code></pre>
<p>使用</p>
<pre><code class="sql">USE 数据库名;
</code></pre>
<p>查询当前数据库中所有表</p>
<pre><code class="sql">SHOW TABLES;
</code></pre>
<p>查询表结构</p>
<pre><code class="sql">DESC 表名称; --- describe
</code></pre>
<p>查询指定表的建表语句</p>
<pre><code class="sql">SHOW CREATE TABLE 表名;
</code></pre>
<p>创建表:</p>
<pre><code class="sql">CREATE TABLE 表名(
    字段名 字段类型 [COMMENT 字段注释],
    字段名 字段类型 [COMMEBT 字段注释],
...
)[COMMENT 表注释];
</code></pre>
<p>添加字段</p>
<pre><code class="sql">ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];
</code></pre>
<p>修改字段</p>
<p>修改数据类型</p>
<pre><code class="sql">ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度);
</code></pre>
<p>修改字段名和字段类型</p>
<pre><code class="sql">ALTER TABLE 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];
</code></pre>
<p>删除字段</p>
<pre><code class="sql">ALTER TABLE 表名 DROP 字段名;
</code></pre>
<p>修改表名</p>
<pre><code class="sql">ALTER TABLE 表名 RENAME TO 表名;
</code></pre>
<p>删除表</p>
<pre><code class="sql">DROP TABLE [IF EXISTS] 表名;
TRUNCATE TABLE 表名; -- 删除指定表,并重新创建该表(清空数据) truncate截短,去尾
</code></pre>
<h5 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h5><pre><code class="sql">CREATE DATABASE IF NOT EXISTS test DEFAULT CHARSET utf8mb4; -- 创建test数据库(如果不存在的话),并以utf8mb4存储(最多4字节)

DROP DATABASE IF EXISTS test; -- 删除test数据库(如果存在的话)
</code></pre>
<p>案例:<br>设计一张员工信息表,要求如下:</p>
<p>1.编号 纯数字</p>
<p>2.员工工号 字符串 长度不超过10位</p>
<p>3.员工姓名 字符串 长度不超10位</p>
<p>4.性别 男&#x2F;女 一个汉字</p>
<p>5.年龄</p>
<p>6.身份证号</p>
<p>7.入职时间 年月日</p>
<pre><code class="sql">CREATE TABLE employee_information(
    id int comment &#39;编号&#39;,
    work_number char(10) comment &#39;工号&#39;,
    name varchar(10) comment &#39;姓名&#39;,
    gender char(1) comment &#39;性别&#39;,
    age tinyint unsigned comment &#39;年龄&#39;,
    id_card char(18) comment &#39;身份证号&#39;,
    entry_date date comment &#39;入职时间&#39;
)comment &#39;员工表&#39;;
</code></pre>
<p>案例</p>
<p>emp表添加字段’昵称’为nickname,varchar(20)</p>
<pre><code class="sql">ALTER TABLE emp ADD nickname varchar(20) comment &#39;昵称&#39;
</code></pre>
<p>案例:</p>
<p>将emp表的nickname字段修改为uername,类型为varchar(30)</p>
<pre><code class="sql">ALTER TABLE emp CHANGE nickname username varchar(30) comment &#39;用户名&#39;
desc emp;
</code></pre>
<p>案例:</p>
<p>将emp表的username字段删除</p>
<pre><code class="sql">ALTER TABLE emp DROP username;
</code></pre>
<p>案例:</p>
<p>将emp表的表名修改为employee</p>
<pre><code class="sql">ALTER TABLE emp RENAME TO employee
</code></pre>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>mysql中主要分为三类: 数值类型, 字符串类型, 日期时间类型</p>
<h3 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h3><table>
<thead>
<tr>
<th>类型</th>
<th align="right">大小</th>
<th align="center">有符号范围</th>
<th align="center">无符号范围</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td align="right">1byte</td>
<td align="center">$$(-2^7,2^7-1)$$</td>
<td align="center">$$(0,2^8-1)$$</td>
<td align="center">小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td align="right">2byte</td>
<td align="center">$$(-2^15,2^15-1)$$</td>
<td align="center">$$(0,2^16-1)$$</td>
<td align="center">大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td align="right">3byte</td>
<td align="center">$$(-2^23,2^23-1)$$</td>
<td align="center">$$(0,2^24-1)$$</td>
<td align="center">大整数值</td>
</tr>
<tr>
<td>INT &#x2F; INTEGER</td>
<td align="right">4byte</td>
<td align="center">$$(-2^31,2^31-1)$$</td>
<td align="center">$$(0,2^32-1)$$</td>
<td align="center">大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td align="right">8byte</td>
<td align="center">$$(-2^63,2^63-1)$$</td>
<td align="center">$$(0,2^64-1)$$</td>
<td align="center">极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td align="right">4byte</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">单精度浮点数</td>
</tr>
<tr>
<td>DOUBLE</td>
<td align="right">8byte</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">双精度浮点数</td>
</tr>
<tr>
<td>DECIMAL</td>
<td align="right">-</td>
<td align="center">依赖于M(精度)和D(标度)的值</td>
<td align="center">依赖于M(精度)和D(标度)的值</td>
<td align="center">小数值(精确定点数)</td>
</tr>
</tbody></table>
<h5 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h5><p>DECIMAL: 如123.45,则精度M为整个长度,即5;D表小数位数,即2</p>
<p>age TINYINT UNSIGNED</p>
<p>score DOUBLE(4,1) –  4代表整体长度,1代表小数位数 (已经不推荐)</p>
<h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><p>TINYINT 枚举变量</p>
<p>SMALLINT 较小数据的统计量,如工厂固定资产的统计数量</p>
<p>MEDIUMINT 较大数据的统计量,如车站每日客流量</p>
<p>INT,INTEGER 足够大了,一般不需要考虑超值问题,如商品编号</p>
<p>BIGINT 需要处理特别大的数据时使用,如大型网站点击量,双十一交易量等</p>
<p>浮点类型不建议使用UNSIGNED或SIGNED,和float(M,D)等等</p>
<h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>$$(0,2^8-1)$$</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>$$(0,2^16-1)$$</td>
<td>变长字符串</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>$$(0,2^8-1)$$</td>
<td>二进制数据</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>$$(0,2^8-1)$$</td>
<td>短文本数据</td>
</tr>
<tr>
<td>BLOB</td>
<td>$$(0,2^16-1)$$</td>
<td>二进制数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>$$(0,2^16-1)$$</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>$$(0,2^24-1)$$</td>
<td>二进制数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>$$(0,2^24-1)$$</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>$$(0,2^36-1)$$</td>
<td>二进制数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>$$(0,2^36-1)$$</td>
<td>超大文本&#96;数据</td>
</tr>
</tbody></table>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><pre><code class="sql">char(10)
varchar(50) -- 最多五十位
</code></pre>
<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><p>BLOB 表二进制数据,但一般不用(性能不高,不方便管理),对于二进制数据处理一般采用专门的文件服务器处理</p>
<p>TEXT表示长文本数据</p>
<p>变长: 表大小可变,但是代价是消耗性能多 (如用户名)</p>
<p>定长:大小不变,更快  (如性别)</p>
<h3 id="日期类型"><a href="#日期类型" class="headerlink" title="日期类型"></a>日期类型</h3><table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>范围</th>
<th>格式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01 , 9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>-838:59:59 , 838:59:59</td>
<td>HH:MM:SS</td>
<td>时间值</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901-2155</td>
<td>YYYY</td>
<td>年份</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00 , 9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:DD</td>
<td>混合日期与时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:01 , 2038-01-19 03:14:07</td>
<td>YYYY-MM-DD HH:MM:DD</td>
<td>混合日期与时间值,时间戳</td>
</tr>
</tbody></table>
<h4 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h4><p>一般用DATE,TIME,DATETIME更多</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/09/12/SQL%E5%AD%A6%E4%B9%A0-%E4%B8%80/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/05/03/HTML%E5%AD%A6%E4%B9%A0-%E4%B8%80/">
        <h2 class="post-title">HTML学习(一)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/5/3
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="什么是HTML"><a href="#什么是HTML" class="headerlink" title="什么是HTML?"></a>什么是HTML?</h1><p>HTML(Hyper Text Markup Language) 超文本标记语言<br>非编程语言,而是标记语言</p>
<h1 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h1><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;!-- 声明为HTML5文档 --&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;这里是标题&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 这是注释 --&gt;
    &lt;!-- body标签表示页面的主要内容--&gt;
    &lt;p&gt;这里是段落&lt;/p&gt;

&lt;/body&gt;
&lt;!-- 注意,所有标签尽可能用/关闭--&gt;
&lt;/html&gt;
</code></pre>
<p>一些标签<br>&lt;p&gt;段落标签,表示一段<br>&lt;h1&gt;-&lt;h6&gt;表示标题<br>&lt;a href&#x3D;”链接”&gt;链接文本&lt;&#x2F;a&gt;<br>&lt;b&gt;表示加粗<br>&lt;s&gt;表示删除线<br>&lt;u&gt;表示下划线<br>&lt;i&gt;表示斜体<br>&lt;sup&gt;表示上标<br>&lt;sub&gt;表示下标<br>&lt;pre&gt;表示以源格式输出<br>&lt;em&gt;表示强调<br>&lt;strong&gt;表示加重语气<br>&lt;q&gt;表示内联引用<br>&lt;blockquote&gt;表示块引用<br>&lt;hr&gt;表示分割线<br>&lt;br&gt;表示换行<br>&lt;span&gt;表示范围内生效(用css)<br>&lt;ul&gt;表示无序列表<br>&lt;ol&gt;表示有序列表<br>&lt;li&gt;表示列表中的元素<br>列表可以嵌套<br>&lt;div&gt;表示分割,并不会表示任何内容,更用于组织内容,如使用css或id等.<br>&lt;section&gt;表示部分<br>应当注意的是,一篇网页应当只有一个main,不同章节用section分割,更小的部分用div.</p>
<p>&lt;html&gt;头内可以有lang属性,标识网页的语言.</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/%E5%89%8D%E7%AB%AF/" style="color: #ff7d73">前端</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/HTML/" style="color: #03a9f4">HTML</a>
        </span>
        
    </div>
    <a href="/2024/05/03/HTML%E5%AD%A6%E4%B9%A0-%E4%B8%80/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/05/03/HTML%E5%AD%A6%E4%B9%A0-%E4%BA%8C/">
        <h2 class="post-title">HTML学习(二)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/5/3
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="html元"><a href="#html元" class="headerlink" title="html元"></a>html元</h1><p>使用&lt;meta&gt;标签<br>示例:</p>
<pre><code class="html">&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;!-- charset属性用于设定文字编码 --&gt;
    &lt;meta name=&quot;author&quot; contents=&quot;dancingby&quot; /&gt;
    &lt;meta name=&quot;description&quot; contents=&quot;here is the description of the website&quot; /&gt;
    &lt;meta name=&quot;keywords&quot; contents=&quot;html&quot; /&gt;
    &lt;!-- 这里是一些自定的网页的表述,同时,元里可以添加其他平台可解析的属性(如twitter与Facebook的) --&gt;
&lt;/head&gt;
</code></pre>
<h1 id="网页架构"><a href="#网页架构" class="headerlink" title="网页架构"></a>网页架构</h1><p>有&lt;header&gt;(页眉),&lt;nav&gt;(导航栏),&lt;article&gt;文章,&lt;main&gt;主要内容,&lt;aside&gt;侧边栏&lt;footer&gt;页尾部分.<br>示例:</p>
<pre><code class="html">&lt;body&gt;
    &lt;header&gt;&lt;h1&gt;
        This is header.
        &lt;/h1&gt;&lt;/header&gt;
    &lt;nav&gt;
    &lt;ul&gt;
        &lt;li&gt;
        主页&lt;/li&gt;
        &lt;li&gt;
        文章&lt;/li&gt;
        &lt;/ul&gt;
        &lt;form&gt;
            &lt;input type=&quot;search&quot; name = &quot;s&quot; placeholder = &quot;Pleace type to search&quot; /&gt;
            &lt;input type = &quot;submit&quot; value=&quot;search&quot; /&gt;
        &lt;/form&gt;
    &lt;/nav&gt;
    &lt;main&gt;
    &lt;article&gt;
        文章主要内容
        &lt;/article&gt;
        &lt;aside&gt;
        &lt;h2&gt;
            相关链接
            &lt;/h2&gt;
        &lt;ul&gt;
            &lt;li&gt;
            &lt;a href=&quot;https://www.baidu.com&quot;&gt;百度&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;
            &lt;a href = &quot;https://dancingby0.github.io&quot;&gt;
                dancingby&#39;s blog.
                &lt;/a&gt;
            &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/aside&gt;
    &lt;/main&gt;
    &lt;footer&gt;
    &lt;p&gt;
        
        all rights reserved.
        &lt;/p&gt;&lt;/footer&gt;
&lt;/body&gt;
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/%E5%89%8D%E7%AB%AF/" style="color: #00bcd4">前端</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/HTML/" style="color: #ff7d73">HTML</a>
        </span>
        
    </div>
    <a href="/2024/05/03/HTML%E5%AD%A6%E4%B9%A0-%E4%BA%8C/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/04/27/Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
        <h2 class="post-title">Java面向对象</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/4/27
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h3 id="构造器"><a href="#构造器" class="headerlink" title="构造器"></a>构造器</h3><p>语法:<br>[修饰器] &lt;类名&gt;(参数列表){方法体}<br>用于构造对象时执行.<br>默认的类是有无参构造器的,但是如果一个类设定了一个构造器,比如:</p>
<pre><code class="java">package cn.dancingby;

public class C &#123;
    C(String A)&#123;
        ;
    &#125;
&#125;
</code></pre>
<p>那么这个C类就不会拥有一个无参构造器了.<br>比如<br>C a &#x3D; new C();是错误的.<br>继承后的类如果没有显式调用其父类的构造函数,则会某人调用其父类的无参构造函数.<br>因此,如下是错误的.</p>
<pre><code class="java">public class C &#123;
    C(String A)&#123;
        ;
    &#125;
&#125;

class D extends C&#123;&#125;
</code></pre>
<p>因为C类没有默认构造器,而D类的默认构造器需要调用其C类的构造器,因此会出现编译错误.<br>多个构造器的要求是其函数签名不得相同.<br># 函数签名:即public A(String a){}的”A(String a)”这一部分.不包括返回值和方法体.</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>使用extends关键字继承<br>能够使子类拥有父类使用protected&#x2F;public修饰的字段,</p>
<h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h3><p>类里面可以再定义一个类<br>内部类有成员内部类,静态内部类和局部内部类</p>
<h4 id="成员内部类"><a href="#成员内部类" class="headerlink" title="成员内部类"></a>成员内部类</h4><p>成员内部类相当于类的成员,可以用default,private,public修饰<br>成员内部类可以用static修饰.(因此被static修饰的类一定是内部类)<br>示例:</p>
<pre><code class="java">class Outer &#123;
    private int x;

    class Inner &#123;
        void display() &#123;
            System.out.println(&quot;Value of x: &quot; + x); // 内部类直接访问外部类的私有字段
        &#125;
    &#125;
&#125;
</code></pre>
<h5 id="静态成员内部类"><a href="#静态成员内部类" class="headerlink" title="静态成员内部类"></a>静态成员内部类</h5><p>使用static修饰的成员内部类<br>1.因为拥有static修饰符,因此不需要通过创建对象即可使用该类.<br>2.该类不得访问其外部类的非静态成员<br>3.该类可以创建static成员(也可以创建非静态成员)</p>
<h5 id="非静态成员内部类"><a href="#非静态成员内部类" class="headerlink" title="非静态成员内部类"></a>非静态成员内部类</h5><p>不使用static修饰的成员内部类.<br>与静态成员内部类正好相反,它:<br>1.必须通过创建外部类的对象才可使用该类<br>2.可以访问其外部类的所有成员<br>3.不得创建static成员</p>
<p>如果内部类的成员与外部类的成员重名,则外部类的成员会被隐藏,如果要访问它,就必须使用<br>外部类名.this.成员<br>进行访问,示例:</p>
<pre><code class="java">public class Outer &#123;
    private int x = 10;

    class Inner &#123;
        private int x = 20;

        void display() &#123;
            System.out.println(&quot;Inner x: &quot; + x); // 输出 Inner x: 20
            System.out.println(&quot;Outer x: &quot; + Outer.this.x); // 输出 Outer x: 10
        &#125;
    &#125;

    public static void main(String[] args) &#123;
        Outer outer = new Outer();
        Inner inner = outer.new Inner();
        inner.display();
    &#125;
&#125;
</code></pre>
<p>Q:为什么不是super.成员?<br>A:不是继承.</p>
<h5 id="成员类的访问"><a href="#成员类的访问" class="headerlink" title="成员类的访问"></a>成员类的访问</h5><p>对于静态成员类,如果仅访问其静态成员,只需要<br>外部类名.静态成员类名.静态成员名<br>即可<br>如果是非静态成员,则必须通过该类的实例来访问其成员.<br>示例:</p>
<pre><code class="java">/**
 * @author dancingby
 */

package cn.dancingby;

public class Outer &#123;
    static class StaticNestedClass &#123;
        static void display() &#123;
            System.out.println(&quot;Inside static nested class(Static method)&quot;);
        &#125;
        void display2()&#123;
            System.out.println(&quot;Inside static nested class(Non-static method)&quot;);
        &#125;
    &#125;

&#125;
</code></pre>
<pre><code class="java">package cn.dancingby;

public class main &#123;
    public static void main(String[] args)&#123;

        Outer outer = new Outer();
        Outer.StaticNestedClass nestedClass = new Outer.StaticNestedClass();
        Outer.StaticNestedClass.display();
        nestedClass.display();
        nestedClass.display2();

    &#125;
&#125;
</code></pre>
<p>输出:<br>    Inside static nested class(Static method)<br>    Inside static nested class(Static method)<br>    Inside static nested class(Non-static method)</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/Java-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="color: #00a596">Java,面向对象</a>
        </span>
        
    </div>
    <a href="/2024/04/27/Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/04/26/Java%E4%BF%AE%E9%A5%B0%E7%AC%A6%E4%B8%8E%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">
        <h2 class="post-title">Java修饰符与异常处理</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/4/26
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h1><p>两类: 访问修饰符 与 非访问修饰符</p>
<h2 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h2><h3 id="public"><a href="#public" class="headerlink" title="public:"></a>public:</h3><p>公有,任何其他类可以访问<br>适用对象:(类,字段,方法,接口)</p>
<h6 id="1-修饰类"><a href="#1-修饰类" class="headerlink" title="1.修饰类:"></a>1.修饰类:</h6><p>一个文件中只能有一个public类,并且该文件名必须与该类名相同(编译器在链接时,public 类会作为该文件的入口)</p>
<h3 id="private"><a href="#private" class="headerlink" title="private:"></a>private:</h3><p>私有,仅该类被调用<br>适用对象:字段,方法</p>
<h6 id="1-修饰字段"><a href="#1-修饰字段" class="headerlink" title="1.修饰字段"></a>1.修饰字段</h6><p>表该字段为私有的,仅该类被调用</p>
<h6 id="2-修饰方法"><a href="#2-修饰方法" class="headerlink" title="2.修饰方法"></a>2.修饰方法</h6><p>表该方法私有,仅该类被调用</p>
<h3 id="protected"><a href="#protected" class="headerlink" title="protected:"></a>protected:</h3><p>受保护的,表本包内的类和其子类可以访问<br>适用对象:字段,方法</p>
<h3 id="default-缺省"><a href="#default-缺省" class="headerlink" title="default(缺省):"></a>default(缺省):</h3><p>本包内的类可以使用<br>适用对象:类,字段,方法,接口.</p>
<h3 id="演示代码"><a href="#演示代码" class="headerlink" title="演示代码:"></a>演示代码:</h3><pre><code class="java">package cn.dancingby;
public class Demo20240426_1 &#123;
// 公有类
    public String name; // 公有字段
    public String getName()&#123;
        // 公有方法
        return this.name;
    &#125;
&#125;

class Animal&#123;
    // 缺省值,仅本包内可访问,意味着包外无法访问Animal
    private String name; // 仅本类可以访问name
    public void setName(String name) &#123;
        // 任意类可以访问其方法
        this.name = name;
    &#125;
&#125;
</code></pre>
<h2 id="非访问修饰符"><a href="#非访问修饰符" class="headerlink" title="非访问修饰符"></a>非访问修饰符</h2><p>有static final abstract synchronized volatile transient</p>
<h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><p>静态的,表示类的字段或方法<br>调用方式:<br>类.静态字段&#x2F;方法<br>对象.静态字段&#x2F;方法<br>静态方法只能使用静态对象.</p>
<h3 id="final"><a href="#final" class="headerlink" title="final"></a>final</h3><h6 id="类"><a href="#类" class="headerlink" title="类"></a>类</h6><p>表示其不可继承,因此不可以使用abstract修饰符,因为abstract修饰符下的类无法实例化,而final类没有子类,因此该类没有对象,就没有存在的意义了.</p>
<h6 id="字段"><a href="#字段" class="headerlink" title="字段"></a>字段</h6><p>表示该字段一经赋值便无法被改变.</p>
<h6 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h6><p>无法被重写.</p>
<h3 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h3><h6 id="类-1"><a href="#类-1" class="headerlink" title="类"></a>类</h6><p>表示该类为抽象类,无法被实例化,类中可以有抽象方法和非抽象方法</p>
<h6 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h6><p>表示该方法是抽象方法,需要被继承后实现<br>示例:</p>
<pre><code class="java">abstract public class bird &#123;
    abstract void fly(String name);
&#125;
</code></pre>
<h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p>表示该方法同一时间只能被一种线程访问.<br>不能和static,final,abstract一起使用</p>
<h3 id="transient"><a href="#transient" class="headerlink" title="transient"></a>transient</h3><p>只能用于字段,表示该字段无法被序列化.</p>
<h3 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h3><p>表示该字段每次被线程访问时,都强制从共享内存中重新读取该成员变量的值。而且，当成员变量发生变化时，会强制线程将变化值回写到共享内存。这样在任何时刻，两个不同的线程总是看到某个成员变量的同一个值</p>
<h1 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h1><h2 id="类-2"><a href="#类-2" class="headerlink" title="类"></a>类</h2><p>大驼峰</p>
<h2 id="字段-1"><a href="#字段-1" class="headerlink" title="字段"></a>字段</h2><p>小驼峰</p>
<h2 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h2><p>小驼峰</p>
<h2 id="临时变量"><a href="#临时变量" class="headerlink" title="临时变量"></a>临时变量</h2><p>蛇形</p>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><h2 id="异常分类"><a href="#异常分类" class="headerlink" title="异常分类"></a>异常分类</h2><p>总:Exception,分为IOException和RuntimeException<br>Error不会被程序捕获(这个不是异常)<br>Error和Exception同隶属于Throwable<br>如果异常被抛出后没有被处理,这个线程就死了(如果单线程,整个程序就死了)</p>
<h2 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h2><pre><code class="java">try &#123;
    // 可能会抛出异常的代码
&#125; catch (IOException e) &#123;
    // 处理异常的代码
&#125;
</code></pre>
<h2 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h2><pre><code class="java">public void division11(int dividend,int divisor) throws ArrayIndexOutOfBoundsException,ArithmeticException&#123;
        // throws 的意义在于如果你没有处理这个异常IDE会替代码审查员来打你
        System.out.println(dividend/divisor); //divisor为0时,就会抛出
    &#125;
    public void division12(int dividend,int divisor)&#123;
        if(divisor==0)&#123;
            throw new ArithmeticException();
            // 丢异常
        &#125;
    &#125;
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/04/26/Java%E4%BF%AE%E9%A5%B0%E7%AC%A6%E4%B8%8E%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/04/25/hello-world/">
        <h2 class="post-title">Hello World</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/4/25
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>This is my first blog.</p>
<p>我精通五种编程语言</p>
<p>的hello world.</p>
<h3 id="c"><a href="#c" class="headerlink" title="c"></a>c</h3><pre><code class="c">printf(&quot;hello world!&quot;);
</code></pre>
<h3 id="cpp"><a href="#cpp" class="headerlink" title="cpp"></a>cpp</h3><pre><code class="cpp">std::cout&lt;&lt; &quot;hello world!&quot;;
</code></pre>
<h3 id="java"><a href="#java" class="headerlink" title="java"></a>java</h3><pre><code class="java">system.out.println(&quot;hello world!&quot;);
</code></pre>
<h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><pre><code class="python">print(&quot;hello world!&quot;)
</code></pre>
<h3 id="csharp"><a href="#csharp" class="headerlink" title="csharp"></a>csharp</h3><pre><code class="csharp">Console.Writeline(&quot;hello world!&quot;);
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/04/25/hello-world/" class="go-post">阅读全文</a>
</div>


        <div class="page-current">
    
    <span class="current">1</span>
    
    
    
    
</div>

    </div>
    
    <div id="home-card">
        <div id="card-style">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/avatar.jpg" alt="avatar" />
        </div>
        <div class="name">dancingby</div>
        <div class="description">
            <p>Description<br>dancingbyです！</p>

        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://github.com/dancingby0">github</a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://afdian.net/a/dancingby">爱发电</a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://argvchs.github.io">Argvchs</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2024 - 2024 dancingby&#39;s home
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;dancingby
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
</body>
</html>
